"use strict";(self.webpackChunk_monorail_storybook=self.webpackChunk_monorail_storybook||[]).push([[2875],{"../../node_modules/@mui/material/Divider/Divider.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js"),clsx__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("../../node_modules/@mui/material/node_modules/clsx/dist/clsx.mjs"),_mui_utils_composeClasses__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/@mui/utils/esm/composeClasses/composeClasses.js"),_mui_system_colorManipulator__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../node_modules/@mui/system/colorManipulator/colorManipulator.js"),_zero_styled_index_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../node_modules/@mui/material/styles/styled.js"),_utils_memoTheme_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../node_modules/@mui/material/utils/memoTheme.js"),_DefaultPropsProvider_index_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../node_modules/@mui/material/DefaultPropsProvider/DefaultPropsProvider.js"),_dividerClasses_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../node_modules/@mui/material/Divider/dividerClasses.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/react/jsx-runtime.js");const DividerRoot=(0,_zero_styled_index_js__WEBPACK_IMPORTED_MODULE_4__.ZP)("div",{name:"MuiDivider",slot:"Root",overridesResolver:(props,styles)=>{const{ownerState}=props;return[styles.root,ownerState.absolute&&styles.absolute,styles[ownerState.variant],ownerState.light&&styles.light,"vertical"===ownerState.orientation&&styles.vertical,ownerState.flexItem&&styles.flexItem,ownerState.children&&styles.withChildren,ownerState.children&&"vertical"===ownerState.orientation&&styles.withChildrenVertical,"right"===ownerState.textAlign&&"vertical"!==ownerState.orientation&&styles.textAlignRight,"left"===ownerState.textAlign&&"vertical"!==ownerState.orientation&&styles.textAlignLeft]}})((0,_utils_memoTheme_js__WEBPACK_IMPORTED_MODULE_5__.Z)((({theme})=>({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(theme.vars||theme).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:theme.vars?`rgba(${theme.vars.palette.dividerChannel} / 0.08)`:(0,_mui_system_colorManipulator__WEBPACK_IMPORTED_MODULE_6__.Fq)(theme.palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:theme.spacing(2),marginRight:theme.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:theme.spacing(1),marginBottom:theme.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:({ownerState})=>!!ownerState.children,style:{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:({ownerState})=>ownerState.children&&"vertical"!==ownerState.orientation,style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(theme.vars||theme).palette.divider}`,borderTopStyle:"inherit"}}},{props:({ownerState})=>"vertical"===ownerState.orientation&&ownerState.children,style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(theme.vars||theme).palette.divider}`,borderLeftStyle:"inherit"}}},{props:({ownerState})=>"right"===ownerState.textAlign&&"vertical"!==ownerState.orientation,style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:({ownerState})=>"left"===ownerState.textAlign&&"vertical"!==ownerState.orientation,style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]})))),DividerWrapper=(0,_zero_styled_index_js__WEBPACK_IMPORTED_MODULE_4__.ZP)("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(props,styles)=>{const{ownerState}=props;return[styles.wrapper,"vertical"===ownerState.orientation&&styles.wrapperVertical]}})((0,_utils_memoTheme_js__WEBPACK_IMPORTED_MODULE_5__.Z)((({theme})=>({display:"inline-block",paddingLeft:`calc(${theme.spacing(1)} * 1.2)`,paddingRight:`calc(${theme.spacing(1)} * 1.2)`,variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${theme.spacing(1)} * 1.2)`,paddingBottom:`calc(${theme.spacing(1)} * 1.2)`}}]})))),Divider=react__WEBPACK_IMPORTED_MODULE_0__.forwardRef((function Divider(inProps,ref){const props=(0,_DefaultPropsProvider_index_js__WEBPACK_IMPORTED_MODULE_7__.i)({props:inProps,name:"MuiDivider"}),{absolute=!1,children,className,orientation="horizontal",component=children||"vertical"===orientation?"div":"hr",flexItem=!1,light=!1,role="hr"!==component?"separator":void 0,textAlign="center",variant="fullWidth",...other}=props,ownerState={...props,absolute,component,flexItem,light,orientation,role,textAlign,variant},classes=(ownerState=>{const{absolute,children,classes,flexItem,light,orientation,textAlign,variant}=ownerState,slots={root:["root",absolute&&"absolute",variant,light&&"light","vertical"===orientation&&"vertical",flexItem&&"flexItem",children&&"withChildren",children&&"vertical"===orientation&&"withChildrenVertical","right"===textAlign&&"vertical"!==orientation&&"textAlignRight","left"===textAlign&&"vertical"!==orientation&&"textAlignLeft"],wrapper:["wrapper","vertical"===orientation&&"wrapperVertical"]};return(0,_mui_utils_composeClasses__WEBPACK_IMPORTED_MODULE_2__.Z)(slots,_dividerClasses_js__WEBPACK_IMPORTED_MODULE_3__.V,classes)})(ownerState);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(DividerRoot,{as:component,className:(0,clsx__WEBPACK_IMPORTED_MODULE_8__.Z)(classes.root,className),role,ref,ownerState,"aria-orientation":"separator"!==role||"hr"===component&&"vertical"!==orientation?void 0:orientation,...other,children:children?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(DividerWrapper,{className:classes.wrapper,ownerState,children}):null})}));Divider&&(Divider.muiSkipListHighlight=!0);const __WEBPACK_DEFAULT_EXPORT__=Divider},"../../node_modules/react-resizable-panels/dist/react-resizable-panels.browser.esm.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{var react__WEBPACK_IMPORTED_MODULE_0___namespace_cache;__webpack_require__.d(__webpack_exports__,{OT:()=>PanelResizeHandle,eh:()=>PanelGroup,s_:()=>Panel});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/react/index.js");const{createElement,createContext,createRef,forwardRef,useCallback,useContext,useEffect,useImperativeHandle,useLayoutEffect,useMemo,useRef,useState}=react__WEBPACK_IMPORTED_MODULE_0___namespace_cache||(react__WEBPACK_IMPORTED_MODULE_0___namespace_cache=__webpack_require__.t(react__WEBPACK_IMPORTED_MODULE_0__,2)),useId=(react__WEBPACK_IMPORTED_MODULE_0___namespace_cache||(react__WEBPACK_IMPORTED_MODULE_0___namespace_cache=__webpack_require__.t(react__WEBPACK_IMPORTED_MODULE_0__,2)))["useId".toString()],useLayoutEffect_do_not_use_directly=useLayoutEffect,PanelGroupContext=createContext(null);PanelGroupContext.displayName="PanelGroupContext";const useIsomorphicLayoutEffect=useLayoutEffect_do_not_use_directly,wrappedUseId="function"==typeof useId?useId:()=>null;let counter=0;function useUniqueId(idFromParams=null){const idFromUseId=wrappedUseId(),idRef=useRef(idFromParams||idFromUseId||null);return null===idRef.current&&(idRef.current=""+counter++),null!=idFromParams?idFromParams:idRef.current}function PanelWithForwardedRef({children,className:classNameFromProps="",collapsedSize,collapsible,defaultSize,forwardedRef,id:idFromProps,maxSize,minSize,onCollapse,onExpand,onResize,order,style:styleFromProps,tagName:Type="div",...rest}){const context=useContext(PanelGroupContext);if(null===context)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel,expandPanel,getPanelSize,getPanelStyle,groupId,isPanelCollapsed,reevaluatePanelConstraints,registerPanel,resizePanel,unregisterPanel}=context,panelId=useUniqueId(idFromProps),panelDataRef=useRef({callbacks:{onCollapse,onExpand,onResize},constraints:{collapsedSize,collapsible,defaultSize,maxSize,minSize},id:panelId,idIsFromProps:void 0!==idFromProps,order});useRef({didLogMissingDefaultSizeWarning:!1}),useIsomorphicLayoutEffect((()=>{const{callbacks,constraints}=panelDataRef.current,prevConstraints={...constraints};panelDataRef.current.id=panelId,panelDataRef.current.idIsFromProps=void 0!==idFromProps,panelDataRef.current.order=order,callbacks.onCollapse=onCollapse,callbacks.onExpand=onExpand,callbacks.onResize=onResize,constraints.collapsedSize=collapsedSize,constraints.collapsible=collapsible,constraints.defaultSize=defaultSize,constraints.maxSize=maxSize,constraints.minSize=minSize,prevConstraints.collapsedSize===constraints.collapsedSize&&prevConstraints.collapsible===constraints.collapsible&&prevConstraints.maxSize===constraints.maxSize&&prevConstraints.minSize===constraints.minSize||reevaluatePanelConstraints(panelDataRef.current,prevConstraints)})),useIsomorphicLayoutEffect((()=>{const panelData=panelDataRef.current;return registerPanel(panelData),()=>{unregisterPanel(panelData)}}),[order,panelId,registerPanel,unregisterPanel]),useImperativeHandle(forwardedRef,(()=>({collapse:()=>{collapsePanel(panelDataRef.current)},expand:minSize=>{expandPanel(panelDataRef.current,minSize)},getId:()=>panelId,getSize:()=>getPanelSize(panelDataRef.current),isCollapsed:()=>isPanelCollapsed(panelDataRef.current),isExpanded:()=>!isPanelCollapsed(panelDataRef.current),resize:size=>{resizePanel(panelDataRef.current,size)}})),[collapsePanel,expandPanel,getPanelSize,isPanelCollapsed,panelId,resizePanel]);const style=getPanelStyle(panelDataRef.current,defaultSize);return createElement(Type,{...rest,children,className:classNameFromProps,id:idFromProps,style:{...style,...styleFromProps},"data-panel":"","data-panel-collapsible":collapsible||void 0,"data-panel-group-id":groupId,"data-panel-id":panelId,"data-panel-size":parseFloat(""+style.flexGrow).toFixed(1)})}const Panel=forwardRef(((props,ref)=>createElement(PanelWithForwardedRef,{...props,forwardedRef:ref})));PanelWithForwardedRef.displayName="Panel",Panel.displayName="forwardRef(Panel)";let currentCursorStyle=null,styleElement=null;function setGlobalCursorStyle(state,constraintFlags){const style=function getCursorStyle(state,constraintFlags){if(constraintFlags){const verticalMin=0!=(constraintFlags&EXCEEDED_VERTICAL_MIN),verticalMax=0!=(constraintFlags&EXCEEDED_VERTICAL_MAX);if(0!=(constraintFlags&EXCEEDED_HORIZONTAL_MIN))return verticalMin?"se-resize":verticalMax?"ne-resize":"e-resize";if(0!=(constraintFlags&EXCEEDED_HORIZONTAL_MAX))return verticalMin?"sw-resize":verticalMax?"nw-resize":"w-resize";if(verticalMin)return"s-resize";if(verticalMax)return"n-resize"}switch(state){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}(state,constraintFlags);currentCursorStyle!==style&&(currentCursorStyle=style,null===styleElement&&(styleElement=document.createElement("style"),document.head.appendChild(styleElement)),styleElement.innerHTML=`*{cursor: ${style}!important;}`)}function isKeyDown(event){return"keydown"===event.type}function isPointerEvent(event){return event.type.startsWith("pointer")}function isMouseEvent(event){return event.type.startsWith("mouse")}function getResizeEventCoordinates(event){if(isPointerEvent(event)){if(event.isPrimary)return{x:event.clientX,y:event.clientY}}else if(isMouseEvent(event))return{x:event.clientX,y:event.clientY};return{x:1/0,y:1/0}}function intersects(rectOne,rectTwo,strict){return strict?rectOne.x<rectTwo.x+rectTwo.width&&rectOne.x+rectOne.width>rectTwo.x&&rectOne.y<rectTwo.y+rectTwo.height&&rectOne.y+rectOne.height>rectTwo.y:rectOne.x<=rectTwo.x+rectTwo.width&&rectOne.x+rectOne.width>=rectTwo.x&&rectOne.y<=rectTwo.y+rectTwo.height&&rectOne.y+rectOne.height>=rectTwo.y}const props=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function creates_stacking_context(node){const style=getComputedStyle(node);return"fixed"===style.position||(!("auto"===style.zIndex||"static"===style.position&&!function is_flex_item(node){var _get_parent;const display=getComputedStyle(null!==(_get_parent=get_parent(node))&&void 0!==_get_parent?_get_parent:node).display;return"flex"===display||"inline-flex"===display}(node))||(+style.opacity<1||("transform"in style&&"none"!==style.transform||("webkitTransform"in style&&"none"!==style.webkitTransform||("mixBlendMode"in style&&"normal"!==style.mixBlendMode||("filter"in style&&"none"!==style.filter||("webkitFilter"in style&&"none"!==style.webkitFilter||("isolation"in style&&"isolate"===style.isolation||(!!props.test(style.willChange)||"touch"===style.webkitOverflowScrolling)))))))))}function find_stacking_context(nodes){let i=nodes.length;for(;i--;){const node=nodes[i];if(assert(node,"Missing node"),creates_stacking_context(node))return node}return null}function get_z_index(node){return node&&Number(getComputedStyle(node).zIndex)||0}function get_ancestors(node){const ancestors=[];for(;node;)ancestors.push(node),node=get_parent(node);return ancestors}function get_parent(node){const{parentNode}=node;return parentNode&&parentNode instanceof ShadowRoot?parentNode.host:parentNode}const EXCEEDED_HORIZONTAL_MIN=1,EXCEEDED_HORIZONTAL_MAX=2,EXCEEDED_VERTICAL_MIN=4,EXCEEDED_VERTICAL_MAX=8,isCoarsePointer="coarse"===function getInputType(){if("function"==typeof matchMedia)return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}();let intersectingHandles=[],isPointerDown=!1,ownerDocumentCounts=new Map,panelConstraintFlags=new Map;const registeredResizeHandlers=new Set;function handlePointerDown(event){const{target}=event,{x,y}=getResizeEventCoordinates(event);isPointerDown=!0,recalculateIntersectingHandles({target,x,y}),updateListeners(),intersectingHandles.length>0&&(updateResizeHandlerStates("down",event),event.preventDefault(),event.stopPropagation())}function handlePointerMove(event){const{x,y}=getResizeEventCoordinates(event);if(!isPointerDown){const{target}=event;recalculateIntersectingHandles({target,x,y})}updateResizeHandlerStates("move",event),updateCursor(),intersectingHandles.length>0&&event.preventDefault()}function handlePointerUp(event){const{target}=event,{x,y}=getResizeEventCoordinates(event);panelConstraintFlags.clear(),isPointerDown=!1,intersectingHandles.length>0&&event.preventDefault(),updateResizeHandlerStates("up",event),recalculateIntersectingHandles({target,x,y}),updateCursor(),updateListeners()}function recalculateIntersectingHandles({target,x,y}){intersectingHandles.splice(0);let targetElement=null;target instanceof HTMLElement&&(targetElement=target),registeredResizeHandlers.forEach((data=>{const{element:dragHandleElement,hitAreaMargins}=data,dragHandleRect=dragHandleElement.getBoundingClientRect(),{bottom,left,right,top}=dragHandleRect,margin=isCoarsePointer?hitAreaMargins.coarse:hitAreaMargins.fine;if(x>=left-margin&&x<=right+margin&&y>=top-margin&&y<=bottom+margin){if(null!==targetElement&&dragHandleElement!==targetElement&&!dragHandleElement.contains(targetElement)&&!targetElement.contains(dragHandleElement)&&function compare(a,b){if(a===b)throw new Error("Cannot compare node with itself");const ancestors={a:get_ancestors(a),b:get_ancestors(b)};let common_ancestor;for(;ancestors.a.at(-1)===ancestors.b.at(-1);)a=ancestors.a.pop(),b=ancestors.b.pop(),common_ancestor=a;assert(common_ancestor,"Stacking order can only be calculated for elements with a common ancestor");const z_indexes_a=get_z_index(find_stacking_context(ancestors.a)),z_indexes_b=get_z_index(find_stacking_context(ancestors.b));if(z_indexes_a===z_indexes_b){const children=common_ancestor.childNodes,furthest_ancestors={a:ancestors.a.at(-1),b:ancestors.b.at(-1)};let i=children.length;for(;i--;){const child=children[i];if(child===furthest_ancestors.a)return 1;if(child===furthest_ancestors.b)return-1}}return Math.sign(z_indexes_a-z_indexes_b)}(targetElement,dragHandleElement)>0){let currentElement=targetElement,didIntersect=!1;for(;currentElement&&!currentElement.contains(dragHandleElement);){if(intersects(currentElement.getBoundingClientRect(),dragHandleRect,!0)){didIntersect=!0;break}currentElement=currentElement.parentElement}if(didIntersect)return}intersectingHandles.push(data)}}))}function reportConstraintsViolation(resizeHandleId,flag){panelConstraintFlags.set(resizeHandleId,flag)}function updateCursor(){let intersectsHorizontal=!1,intersectsVertical=!1;intersectingHandles.forEach((data=>{const{direction}=data;"horizontal"===direction?intersectsHorizontal=!0:intersectsVertical=!0}));let constraintFlags=0;panelConstraintFlags.forEach((flag=>{constraintFlags|=flag})),intersectsHorizontal&&intersectsVertical?setGlobalCursorStyle("intersection",constraintFlags):intersectsHorizontal?setGlobalCursorStyle("horizontal",constraintFlags):intersectsVertical?setGlobalCursorStyle("vertical",constraintFlags):function resetGlobalCursorStyle(){null!==styleElement&&(document.head.removeChild(styleElement),currentCursorStyle=null,styleElement=null)}()}function updateListeners(){ownerDocumentCounts.forEach(((_,ownerDocument)=>{const{body}=ownerDocument;body.removeEventListener("contextmenu",handlePointerUp),body.removeEventListener("pointerdown",handlePointerDown),body.removeEventListener("pointerleave",handlePointerMove),body.removeEventListener("pointermove",handlePointerMove)})),window.removeEventListener("pointerup",handlePointerUp),window.removeEventListener("pointercancel",handlePointerUp),registeredResizeHandlers.size>0&&(isPointerDown?(intersectingHandles.length>0&&ownerDocumentCounts.forEach(((count,ownerDocument)=>{const{body}=ownerDocument;count>0&&(body.addEventListener("contextmenu",handlePointerUp),body.addEventListener("pointerleave",handlePointerMove),body.addEventListener("pointermove",handlePointerMove))})),window.addEventListener("pointerup",handlePointerUp),window.addEventListener("pointercancel",handlePointerUp)):ownerDocumentCounts.forEach(((count,ownerDocument)=>{const{body}=ownerDocument;count>0&&(body.addEventListener("pointerdown",handlePointerDown,{capture:!0}),body.addEventListener("pointermove",handlePointerMove))})))}function updateResizeHandlerStates(action,event){registeredResizeHandlers.forEach((data=>{const{setResizeHandlerState}=data,isActive=intersectingHandles.includes(data);setResizeHandlerState(action,isActive,event)}))}function assert(expectedCondition,message){if(!expectedCondition)throw console.error(message),Error(message)}const PRECISION=10;function fuzzyCompareNumbers(actual,expected,fractionDigits=PRECISION){return actual.toFixed(fractionDigits)===expected.toFixed(fractionDigits)?0:actual>expected?1:-1}function fuzzyNumbersEqual$1(actual,expected,fractionDigits=PRECISION){return 0===fuzzyCompareNumbers(actual,expected,fractionDigits)}function fuzzyNumbersEqual(actual,expected,fractionDigits){return 0===fuzzyCompareNumbers(actual,expected,fractionDigits)}function resizePanel({panelConstraints:panelConstraintsArray,panelIndex,size}){const panelConstraints=panelConstraintsArray[panelIndex];assert(null!=panelConstraints,`Panel constraints not found for index ${panelIndex}`);let{collapsedSize=0,collapsible,maxSize=100,minSize=0}=panelConstraints;if(fuzzyCompareNumbers(size,minSize)<0)if(collapsible){size=fuzzyCompareNumbers(size,(collapsedSize+minSize)/2)<0?collapsedSize:minSize}else size=minSize;return size=Math.min(maxSize,size),size=parseFloat(size.toFixed(PRECISION))}function adjustLayoutByDelta({delta,initialLayout,panelConstraints:panelConstraintsArray,pivotIndices,prevLayout,trigger}){if(fuzzyNumbersEqual(delta,0))return initialLayout;const nextLayout=[...initialLayout],[firstPivotIndex,secondPivotIndex]=pivotIndices;assert(null!=firstPivotIndex,"Invalid first pivot index"),assert(null!=secondPivotIndex,"Invalid second pivot index");let deltaApplied=0;if("keyboard"===trigger){{const index=delta<0?secondPivotIndex:firstPivotIndex,panelConstraints=panelConstraintsArray[index];assert(panelConstraints,`Panel constraints not found for index ${index}`);const{collapsedSize=0,collapsible,minSize=0}=panelConstraints;if(collapsible){const prevSize=initialLayout[index];if(assert(null!=prevSize,`Previous layout not found for panel index ${index}`),fuzzyNumbersEqual(prevSize,collapsedSize)){const localDelta=minSize-prevSize;fuzzyCompareNumbers(localDelta,Math.abs(delta))>0&&(delta=delta<0?0-localDelta:localDelta)}}}{const index=delta<0?firstPivotIndex:secondPivotIndex,panelConstraints=panelConstraintsArray[index];assert(panelConstraints,`No panel constraints found for index ${index}`);const{collapsedSize=0,collapsible,minSize=0}=panelConstraints;if(collapsible){const prevSize=initialLayout[index];if(assert(null!=prevSize,`Previous layout not found for panel index ${index}`),fuzzyNumbersEqual(prevSize,minSize)){const localDelta=prevSize-collapsedSize;fuzzyCompareNumbers(localDelta,Math.abs(delta))>0&&(delta=delta<0?0-localDelta:localDelta)}}}}{const increment=delta<0?1:-1;let index=delta<0?secondPivotIndex:firstPivotIndex,maxAvailableDelta=0;for(;;){const prevSize=initialLayout[index];assert(null!=prevSize,`Previous layout not found for panel index ${index}`);if(maxAvailableDelta+=resizePanel({panelConstraints:panelConstraintsArray,panelIndex:index,size:100})-prevSize,index+=increment,index<0||index>=panelConstraintsArray.length)break}const minAbsDelta=Math.min(Math.abs(delta),Math.abs(maxAvailableDelta));delta=delta<0?0-minAbsDelta:minAbsDelta}{let index=delta<0?firstPivotIndex:secondPivotIndex;for(;index>=0&&index<panelConstraintsArray.length;){const deltaRemaining=Math.abs(delta)-Math.abs(deltaApplied),prevSize=initialLayout[index];assert(null!=prevSize,`Previous layout not found for panel index ${index}`);const safeSize=resizePanel({panelConstraints:panelConstraintsArray,panelIndex:index,size:prevSize-deltaRemaining});if(!fuzzyNumbersEqual(prevSize,safeSize)&&(deltaApplied+=prevSize-safeSize,nextLayout[index]=safeSize,deltaApplied.toPrecision(3).localeCompare(Math.abs(delta).toPrecision(3),void 0,{numeric:!0})>=0))break;delta<0?index--:index++}}if(function fuzzyLayoutsEqual(actual,expected,fractionDigits){if(actual.length!==expected.length)return!1;for(let index=0;index<actual.length;index++)if(!fuzzyNumbersEqual(actual[index],expected[index],fractionDigits))return!1;return!0}(prevLayout,nextLayout))return prevLayout;{const pivotIndex=delta<0?secondPivotIndex:firstPivotIndex,prevSize=initialLayout[pivotIndex];assert(null!=prevSize,`Previous layout not found for panel index ${pivotIndex}`);const unsafeSize=prevSize+deltaApplied,safeSize=resizePanel({panelConstraints:panelConstraintsArray,panelIndex:pivotIndex,size:unsafeSize});if(nextLayout[pivotIndex]=safeSize,!fuzzyNumbersEqual(safeSize,unsafeSize)){let deltaRemaining=unsafeSize-safeSize;let index=delta<0?secondPivotIndex:firstPivotIndex;for(;index>=0&&index<panelConstraintsArray.length;){const prevSize=nextLayout[index];assert(null!=prevSize,`Previous layout not found for panel index ${index}`);const safeSize=resizePanel({panelConstraints:panelConstraintsArray,panelIndex:index,size:prevSize+deltaRemaining});if(fuzzyNumbersEqual(prevSize,safeSize)||(deltaRemaining-=safeSize-prevSize,nextLayout[index]=safeSize),fuzzyNumbersEqual(deltaRemaining,0))break;delta>0?index--:index++}}}return fuzzyNumbersEqual(nextLayout.reduce(((total,size)=>size+total),0),100)?nextLayout:prevLayout}function calculateAriaValues({layout,panelsArray,pivotIndices}){let currentMinSize=0,currentMaxSize=100,totalMinSize=0,totalMaxSize=0;const firstIndex=pivotIndices[0];assert(null!=firstIndex,"No pivot index found"),panelsArray.forEach(((panelData,index)=>{const{constraints}=panelData,{maxSize=100,minSize=0}=constraints;index===firstIndex?(currentMinSize=minSize,currentMaxSize=maxSize):(totalMinSize+=minSize,totalMaxSize+=maxSize)}));return{valueMax:Math.min(currentMaxSize,100-totalMinSize),valueMin:Math.max(currentMinSize,100-totalMaxSize),valueNow:layout[firstIndex]}}function getResizeHandleElementsForGroup(groupId,scope=document){return Array.from(scope.querySelectorAll(`[data-panel-resize-handle-id][data-panel-group-id="${groupId}"]`))}function getResizeHandleElementIndex(groupId,id,scope=document){const index=getResizeHandleElementsForGroup(groupId,scope).findIndex((handle=>handle.getAttribute("data-panel-resize-handle-id")===id));return null!=index?index:null}function determinePivotIndices(groupId,dragHandleId,panelGroupElement){const index=getResizeHandleElementIndex(groupId,dragHandleId,panelGroupElement);return null!=index?[index,index+1]:[-1,-1]}function getPanelGroupElement(id,rootElement=document){var _dataset;if(rootElement instanceof HTMLElement&&(null==rootElement||null===(_dataset=rootElement.dataset)||void 0===_dataset?void 0:_dataset.panelGroupId)==id)return rootElement;const element=rootElement.querySelector(`[data-panel-group][data-panel-group-id="${id}"]`);return element||null}function getResizeHandleElement(id,scope=document){const element=scope.querySelector(`[data-panel-resize-handle-id="${id}"]`);return element||null}function useWindowSplitterPanelGroupBehavior({committedValuesRef,eagerValuesRef,groupId,layout,panelDataArray,panelGroupElement,setLayout}){useRef({didWarnAboutMissingResizeHandle:!1}),useIsomorphicLayoutEffect((()=>{if(!panelGroupElement)return;const resizeHandleElements=getResizeHandleElementsForGroup(groupId,panelGroupElement);for(let index=0;index<panelDataArray.length-1;index++){const{valueMax,valueMin,valueNow}=calculateAriaValues({layout,panelsArray:panelDataArray,pivotIndices:[index,index+1]}),resizeHandleElement=resizeHandleElements[index];if(null==resizeHandleElement);else{const panelData=panelDataArray[index];assert(panelData,`No panel data found for index "${index}"`),resizeHandleElement.setAttribute("aria-controls",panelData.id),resizeHandleElement.setAttribute("aria-valuemax",""+Math.round(valueMax)),resizeHandleElement.setAttribute("aria-valuemin",""+Math.round(valueMin)),resizeHandleElement.setAttribute("aria-valuenow",null!=valueNow?""+Math.round(valueNow):"")}}return()=>{resizeHandleElements.forEach(((resizeHandleElement,index)=>{resizeHandleElement.removeAttribute("aria-controls"),resizeHandleElement.removeAttribute("aria-valuemax"),resizeHandleElement.removeAttribute("aria-valuemin"),resizeHandleElement.removeAttribute("aria-valuenow")}))}}),[groupId,layout,panelDataArray,panelGroupElement]),useEffect((()=>{if(!panelGroupElement)return;const eagerValues=eagerValuesRef.current;assert(eagerValues,"Eager values not found");const{panelDataArray}=eagerValues;assert(null!=getPanelGroupElement(groupId,panelGroupElement),`No group found for id "${groupId}"`);const handles=getResizeHandleElementsForGroup(groupId,panelGroupElement);assert(handles,`No resize handles found for group id "${groupId}"`);const cleanupFunctions=handles.map((handle=>{const handleId=handle.getAttribute("data-panel-resize-handle-id");assert(handleId,"Resize handle element has no handle id attribute");const[idBefore,idAfter]=function getResizeHandlePanelIds(groupId,handleId,panelsArray,scope=document){var _panelsArray$index$id,_panelsArray$index,_panelsArray$id,_panelsArray;const handle=getResizeHandleElement(handleId,scope),handles=getResizeHandleElementsForGroup(groupId,scope),index=handle?handles.indexOf(handle):-1;return[null!==(_panelsArray$index$id=null===(_panelsArray$index=panelsArray[index])||void 0===_panelsArray$index?void 0:_panelsArray$index.id)&&void 0!==_panelsArray$index$id?_panelsArray$index$id:null,null!==(_panelsArray$id=null===(_panelsArray=panelsArray[index+1])||void 0===_panelsArray?void 0:_panelsArray.id)&&void 0!==_panelsArray$id?_panelsArray$id:null]}(groupId,handleId,panelDataArray,panelGroupElement);if(null==idBefore||null==idAfter)return()=>{};const onKeyDown=event=>{if(!event.defaultPrevented)switch(event.key){case"Enter":{event.preventDefault();const index=panelDataArray.findIndex((panelData=>panelData.id===idBefore));if(index>=0){const panelData=panelDataArray[index];assert(panelData,`No panel data found for index ${index}`);const size=layout[index],{collapsedSize=0,collapsible,minSize=0}=panelData.constraints;if(null!=size&&collapsible){const nextLayout=adjustLayoutByDelta({delta:fuzzyNumbersEqual(size,collapsedSize)?minSize-collapsedSize:collapsedSize-size,initialLayout:layout,panelConstraints:panelDataArray.map((panelData=>panelData.constraints)),pivotIndices:determinePivotIndices(groupId,handleId,panelGroupElement),prevLayout:layout,trigger:"keyboard"});layout!==nextLayout&&setLayout(nextLayout)}}break}}};return handle.addEventListener("keydown",onKeyDown),()=>{handle.removeEventListener("keydown",onKeyDown)}}));return()=>{cleanupFunctions.forEach((cleanupFunction=>cleanupFunction()))}}),[panelGroupElement,committedValuesRef,eagerValuesRef,groupId,layout,panelDataArray,setLayout])}function areEqual(arrayA,arrayB){if(arrayA.length!==arrayB.length)return!1;for(let index=0;index<arrayA.length;index++)if(arrayA[index]!==arrayB[index])return!1;return!0}function getResizeEventCursorPosition(direction,event){const isHorizontal="horizontal"===direction,{x,y}=getResizeEventCoordinates(event);return isHorizontal?x:y}function calculateDeltaPercentage(event,dragHandleId,direction,initialDragState,keyboardResizeBy,panelGroupElement){if(isKeyDown(event)){const isHorizontal="horizontal"===direction;let delta=0;delta=event.shiftKey?100:null!=keyboardResizeBy?keyboardResizeBy:10;let movement=0;switch(event.key){case"ArrowDown":movement=isHorizontal?0:delta;break;case"ArrowLeft":movement=isHorizontal?-delta:0;break;case"ArrowRight":movement=isHorizontal?delta:0;break;case"ArrowUp":movement=isHorizontal?0:-delta;break;case"End":movement=100;break;case"Home":movement=-100}return movement}return null==initialDragState?0:function calculateDragOffsetPercentage(event,dragHandleId,direction,initialDragState,panelGroupElement){const isHorizontal="horizontal"===direction,handleElement=getResizeHandleElement(dragHandleId,panelGroupElement);assert(handleElement,`No resize handle element found for id "${dragHandleId}"`);const groupId=handleElement.getAttribute("data-panel-group-id");assert(groupId,"Resize handle element has no group id attribute");let{initialCursorPosition}=initialDragState;const cursorPosition=getResizeEventCursorPosition(direction,event),groupElement=getPanelGroupElement(groupId,panelGroupElement);assert(groupElement,`No group element found for id "${groupId}"`);const groupRect=groupElement.getBoundingClientRect();return(cursorPosition-initialCursorPosition)/(isHorizontal?groupRect.width:groupRect.height)*100}(event,dragHandleId,direction,initialDragState,panelGroupElement)}function callPanelCallbacks(panelsArray,layout,panelIdToLastNotifiedSizeMap){layout.forEach(((size,index)=>{const panelData=panelsArray[index];assert(panelData,`Panel data not found for index ${index}`);const{callbacks,constraints,id:panelId}=panelData,{collapsedSize=0,collapsible}=constraints,lastNotifiedSize=panelIdToLastNotifiedSizeMap[panelId];if(null==lastNotifiedSize||size!==lastNotifiedSize){panelIdToLastNotifiedSizeMap[panelId]=size;const{onCollapse,onExpand,onResize}=callbacks;onResize&&onResize(size,lastNotifiedSize),collapsible&&(onCollapse||onExpand)&&(!onExpand||null!=lastNotifiedSize&&!fuzzyNumbersEqual$1(lastNotifiedSize,collapsedSize)||fuzzyNumbersEqual$1(size,collapsedSize)||onExpand(),!onCollapse||null!=lastNotifiedSize&&fuzzyNumbersEqual$1(lastNotifiedSize,collapsedSize)||!fuzzyNumbersEqual$1(size,collapsedSize)||onCollapse())}}))}function compareLayouts(a,b){if(a.length!==b.length)return!1;for(let index=0;index<a.length;index++)if(a[index]!=b[index])return!1;return!0}function initializeDefaultStorage(storageObject){try{if("undefined"==typeof localStorage)throw new Error("localStorage not supported in this environment");storageObject.getItem=name=>localStorage.getItem(name),storageObject.setItem=(name,value)=>{localStorage.setItem(name,value)}}catch(error){console.error(error),storageObject.getItem=()=>null,storageObject.setItem=()=>{}}}function getPanelGroupKey(autoSaveId){return`react-resizable-panels:${autoSaveId}`}function getPanelKey(panels){return panels.map((panel=>{const{constraints,id,idIsFromProps,order}=panel;return idIsFromProps?id:order?`${order}:${JSON.stringify(constraints)}`:JSON.stringify(constraints)})).sort(((a,b)=>a.localeCompare(b))).join(",")}function loadSerializedPanelGroupState(autoSaveId,storage){try{const panelGroupKey=getPanelGroupKey(autoSaveId),serialized=storage.getItem(panelGroupKey);if(serialized){const parsed=JSON.parse(serialized);if("object"==typeof parsed&&null!=parsed)return parsed}}catch(error){}return null}function savePanelGroupState(autoSaveId,panels,panelSizesBeforeCollapse,sizes,storage){var _loadSerializedPanelG2;const panelGroupKey=getPanelGroupKey(autoSaveId),panelKey=getPanelKey(panels),state=null!==(_loadSerializedPanelG2=loadSerializedPanelGroupState(autoSaveId,storage))&&void 0!==_loadSerializedPanelG2?_loadSerializedPanelG2:{};state[panelKey]={expandToSizes:Object.fromEntries(panelSizesBeforeCollapse.entries()),layout:sizes};try{storage.setItem(panelGroupKey,JSON.stringify(state))}catch(error){console.error(error)}}function validatePanelGroupLayout({layout:prevLayout,panelConstraints}){const nextLayout=[...prevLayout],nextLayoutTotalSize=nextLayout.reduce(((accumulated,current)=>accumulated+current),0);if(nextLayout.length!==panelConstraints.length)throw Error(`Invalid ${panelConstraints.length} panel layout: ${nextLayout.map((size=>`${size}%`)).join(", ")}`);if(!fuzzyNumbersEqual(nextLayoutTotalSize,100))for(let index=0;index<panelConstraints.length;index++){const unsafeSize=nextLayout[index];assert(null!=unsafeSize,`No layout data found for index ${index}`);const safeSize=100/nextLayoutTotalSize*unsafeSize;nextLayout[index]=safeSize}let remainingSize=0;for(let index=0;index<panelConstraints.length;index++){const unsafeSize=nextLayout[index];assert(null!=unsafeSize,`No layout data found for index ${index}`);const safeSize=resizePanel({panelConstraints,panelIndex:index,size:unsafeSize});unsafeSize!=safeSize&&(remainingSize+=unsafeSize-safeSize,nextLayout[index]=safeSize)}if(!fuzzyNumbersEqual(remainingSize,0))for(let index=0;index<panelConstraints.length;index++){const prevSize=nextLayout[index];assert(null!=prevSize,`No layout data found for index ${index}`);const safeSize=resizePanel({panelConstraints,panelIndex:index,size:prevSize+remainingSize});if(prevSize!==safeSize&&(remainingSize-=safeSize-prevSize,nextLayout[index]=safeSize,fuzzyNumbersEqual(remainingSize,0)))break}return nextLayout}const defaultStorage={getItem:name=>(initializeDefaultStorage(defaultStorage),defaultStorage.getItem(name)),setItem:(name,value)=>{initializeDefaultStorage(defaultStorage),defaultStorage.setItem(name,value)}},debounceMap={};function PanelGroupWithForwardedRef({autoSaveId=null,children,className:classNameFromProps="",direction,forwardedRef,id:idFromProps=null,onLayout=null,keyboardResizeBy=null,storage=defaultStorage,style:styleFromProps,tagName:Type="div",...rest}){const groupId=useUniqueId(idFromProps),panelGroupElementRef=useRef(null),[dragState,setDragState]=useState(null),[layout,setLayout]=useState([]),panelIdToLastNotifiedSizeMapRef=useRef({}),panelSizeBeforeCollapseRef=useRef(new Map),prevDeltaRef=useRef(0),committedValuesRef=useRef({autoSaveId,direction,dragState,id:groupId,keyboardResizeBy,onLayout,storage}),eagerValuesRef=useRef({layout,panelDataArray:[],panelDataArrayChanged:!1});useRef({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),useImperativeHandle(forwardedRef,(()=>({getId:()=>committedValuesRef.current.id,getLayout:()=>{const{layout}=eagerValuesRef.current;return layout},setLayout:unsafeLayout=>{const{onLayout}=committedValuesRef.current,{layout:prevLayout,panelDataArray}=eagerValuesRef.current,safeLayout=validatePanelGroupLayout({layout:unsafeLayout,panelConstraints:panelDataArray.map((panelData=>panelData.constraints))});areEqual(prevLayout,safeLayout)||(setLayout(safeLayout),eagerValuesRef.current.layout=safeLayout,onLayout&&onLayout(safeLayout),callPanelCallbacks(panelDataArray,safeLayout,panelIdToLastNotifiedSizeMapRef.current))}})),[]),useIsomorphicLayoutEffect((()=>{committedValuesRef.current.autoSaveId=autoSaveId,committedValuesRef.current.direction=direction,committedValuesRef.current.dragState=dragState,committedValuesRef.current.id=groupId,committedValuesRef.current.onLayout=onLayout,committedValuesRef.current.storage=storage})),useWindowSplitterPanelGroupBehavior({committedValuesRef,eagerValuesRef,groupId,layout,panelDataArray:eagerValuesRef.current.panelDataArray,setLayout,panelGroupElement:panelGroupElementRef.current}),useEffect((()=>{const{panelDataArray}=eagerValuesRef.current;if(autoSaveId){if(0===layout.length||layout.length!==panelDataArray.length)return;let debouncedSave=debounceMap[autoSaveId];null==debouncedSave&&(debouncedSave=function debounce(callback,durationMs=10){let timeoutId=null;return(...args)=>{null!==timeoutId&&clearTimeout(timeoutId),timeoutId=setTimeout((()=>{callback(...args)}),durationMs)}}(savePanelGroupState,100),debounceMap[autoSaveId]=debouncedSave);const clonedPanelDataArray=[...panelDataArray],clonedPanelSizesBeforeCollapse=new Map(panelSizeBeforeCollapseRef.current);debouncedSave(autoSaveId,clonedPanelDataArray,clonedPanelSizesBeforeCollapse,layout,storage)}}),[autoSaveId,layout,storage]),useEffect((()=>{}));const collapsePanel=useCallback((panelData=>{const{onLayout}=committedValuesRef.current,{layout:prevLayout,panelDataArray}=eagerValuesRef.current;if(panelData.constraints.collapsible){const panelConstraintsArray=panelDataArray.map((panelData=>panelData.constraints)),{collapsedSize=0,panelSize,pivotIndices}=panelDataHelper(panelDataArray,panelData,prevLayout);if(assert(null!=panelSize,`Panel size not found for panel "${panelData.id}"`),!fuzzyNumbersEqual$1(panelSize,collapsedSize)){panelSizeBeforeCollapseRef.current.set(panelData.id,panelSize);const nextLayout=adjustLayoutByDelta({delta:findPanelDataIndex(panelDataArray,panelData)===panelDataArray.length-1?panelSize-collapsedSize:collapsedSize-panelSize,initialLayout:prevLayout,panelConstraints:panelConstraintsArray,pivotIndices,prevLayout,trigger:"imperative-api"});compareLayouts(prevLayout,nextLayout)||(setLayout(nextLayout),eagerValuesRef.current.layout=nextLayout,onLayout&&onLayout(nextLayout),callPanelCallbacks(panelDataArray,nextLayout,panelIdToLastNotifiedSizeMapRef.current))}}}),[]),expandPanel=useCallback(((panelData,minSizeOverride)=>{const{onLayout}=committedValuesRef.current,{layout:prevLayout,panelDataArray}=eagerValuesRef.current;if(panelData.constraints.collapsible){const panelConstraintsArray=panelDataArray.map((panelData=>panelData.constraints)),{collapsedSize=0,panelSize=0,minSize:minSizeFromProps=0,pivotIndices}=panelDataHelper(panelDataArray,panelData,prevLayout),minSize=null!=minSizeOverride?minSizeOverride:minSizeFromProps;if(fuzzyNumbersEqual$1(panelSize,collapsedSize)){const prevPanelSize=panelSizeBeforeCollapseRef.current.get(panelData.id),baseSize=null!=prevPanelSize&&prevPanelSize>=minSize?prevPanelSize:minSize,nextLayout=adjustLayoutByDelta({delta:findPanelDataIndex(panelDataArray,panelData)===panelDataArray.length-1?panelSize-baseSize:baseSize-panelSize,initialLayout:prevLayout,panelConstraints:panelConstraintsArray,pivotIndices,prevLayout,trigger:"imperative-api"});compareLayouts(prevLayout,nextLayout)||(setLayout(nextLayout),eagerValuesRef.current.layout=nextLayout,onLayout&&onLayout(nextLayout),callPanelCallbacks(panelDataArray,nextLayout,panelIdToLastNotifiedSizeMapRef.current))}}}),[]),getPanelSize=useCallback((panelData=>{const{layout,panelDataArray}=eagerValuesRef.current,{panelSize}=panelDataHelper(panelDataArray,panelData,layout);return assert(null!=panelSize,`Panel size not found for panel "${panelData.id}"`),panelSize}),[]),getPanelStyle=useCallback(((panelData,defaultSize)=>{const{panelDataArray}=eagerValuesRef.current,panelIndex=findPanelDataIndex(panelDataArray,panelData);return function computePanelFlexBoxStyle({defaultSize,dragState,layout,panelData,panelIndex,precision=3}){const size=layout[panelIndex];let flexGrow;return flexGrow=null==size?null!=defaultSize?defaultSize.toPrecision(precision):"1":1===panelData.length?"1":size.toPrecision(precision),{flexBasis:0,flexGrow,flexShrink:1,overflow:"hidden",pointerEvents:null!==dragState?"none":void 0}}({defaultSize,dragState,layout,panelData:panelDataArray,panelIndex})}),[dragState,layout]),isPanelCollapsed=useCallback((panelData=>{const{layout,panelDataArray}=eagerValuesRef.current,{collapsedSize=0,collapsible,panelSize}=panelDataHelper(panelDataArray,panelData,layout);return assert(null!=panelSize,`Panel size not found for panel "${panelData.id}"`),!0===collapsible&&fuzzyNumbersEqual$1(panelSize,collapsedSize)}),[]),isPanelExpanded=useCallback((panelData=>{const{layout,panelDataArray}=eagerValuesRef.current,{collapsedSize=0,collapsible,panelSize}=panelDataHelper(panelDataArray,panelData,layout);return assert(null!=panelSize,`Panel size not found for panel "${panelData.id}"`),!collapsible||fuzzyCompareNumbers(panelSize,collapsedSize)>0}),[]),registerPanel=useCallback((panelData=>{const{panelDataArray}=eagerValuesRef.current;panelDataArray.push(panelData),panelDataArray.sort(((panelA,panelB)=>{const orderA=panelA.order,orderB=panelB.order;return null==orderA&&null==orderB?0:null==orderA?-1:null==orderB?1:orderA-orderB})),eagerValuesRef.current.panelDataArrayChanged=!0}),[]);useIsomorphicLayoutEffect((()=>{if(eagerValuesRef.current.panelDataArrayChanged){eagerValuesRef.current.panelDataArrayChanged=!1;const{autoSaveId,onLayout,storage}=committedValuesRef.current,{layout:prevLayout,panelDataArray}=eagerValuesRef.current;let unsafeLayout=null;if(autoSaveId){const state=function loadPanelGroupState(autoSaveId,panels,storage){var _loadSerializedPanelG,_state$panelKey;return null!==(_state$panelKey=(null!==(_loadSerializedPanelG=loadSerializedPanelGroupState(autoSaveId,storage))&&void 0!==_loadSerializedPanelG?_loadSerializedPanelG:{})[getPanelKey(panels)])&&void 0!==_state$panelKey?_state$panelKey:null}(autoSaveId,panelDataArray,storage);state&&(panelSizeBeforeCollapseRef.current=new Map(Object.entries(state.expandToSizes)),unsafeLayout=state.layout)}null==unsafeLayout&&(unsafeLayout=function calculateUnsafeDefaultLayout({panelDataArray}){const layout=Array(panelDataArray.length),panelConstraintsArray=panelDataArray.map((panelData=>panelData.constraints));let numPanelsWithSizes=0,remainingSize=100;for(let index=0;index<panelDataArray.length;index++){const panelConstraints=panelConstraintsArray[index];assert(panelConstraints,`Panel constraints not found for index ${index}`);const{defaultSize}=panelConstraints;null!=defaultSize&&(numPanelsWithSizes++,layout[index]=defaultSize,remainingSize-=defaultSize)}for(let index=0;index<panelDataArray.length;index++){const panelConstraints=panelConstraintsArray[index];assert(panelConstraints,`Panel constraints not found for index ${index}`);const{defaultSize}=panelConstraints;if(null!=defaultSize)continue;const size=remainingSize/(panelDataArray.length-numPanelsWithSizes);numPanelsWithSizes++,layout[index]=size,remainingSize-=size}return layout}({panelDataArray}));const nextLayout=validatePanelGroupLayout({layout:unsafeLayout,panelConstraints:panelDataArray.map((panelData=>panelData.constraints))});areEqual(prevLayout,nextLayout)||(setLayout(nextLayout),eagerValuesRef.current.layout=nextLayout,onLayout&&onLayout(nextLayout),callPanelCallbacks(panelDataArray,nextLayout,panelIdToLastNotifiedSizeMapRef.current))}})),useIsomorphicLayoutEffect((()=>{const eagerValues=eagerValuesRef.current;return()=>{eagerValues.layout=[]}}),[]);const registerResizeHandle=useCallback((dragHandleId=>function resizeHandler(event){event.preventDefault();const panelGroupElement=panelGroupElementRef.current;if(!panelGroupElement)return()=>null;const{direction,dragState,id:groupId,keyboardResizeBy,onLayout}=committedValuesRef.current,{layout:prevLayout,panelDataArray}=eagerValuesRef.current,{initialLayout}=null!=dragState?dragState:{},pivotIndices=determinePivotIndices(groupId,dragHandleId,panelGroupElement);let delta=calculateDeltaPercentage(event,dragHandleId,direction,dragState,keyboardResizeBy,panelGroupElement);if(0===delta)return;const isHorizontal="horizontal"===direction;"rtl"===document.dir&&isHorizontal&&(delta=-delta);const nextLayout=adjustLayoutByDelta({delta,initialLayout:null!=initialLayout?initialLayout:prevLayout,panelConstraints:panelDataArray.map((panelData=>panelData.constraints)),pivotIndices,prevLayout,trigger:isKeyDown(event)?"keyboard":"mouse-or-touch"}),layoutChanged=!compareLayouts(prevLayout,nextLayout);(isPointerEvent(event)||isMouseEvent(event))&&prevDeltaRef.current!=delta&&(prevDeltaRef.current=delta,reportConstraintsViolation(dragHandleId,layoutChanged?0:isHorizontal?delta<0?EXCEEDED_HORIZONTAL_MIN:EXCEEDED_HORIZONTAL_MAX:delta<0?EXCEEDED_VERTICAL_MIN:EXCEEDED_VERTICAL_MAX)),layoutChanged&&(setLayout(nextLayout),eagerValuesRef.current.layout=nextLayout,onLayout&&onLayout(nextLayout),callPanelCallbacks(panelDataArray,nextLayout,panelIdToLastNotifiedSizeMapRef.current))}),[]),resizePanel=useCallback(((panelData,unsafePanelSize)=>{const{onLayout}=committedValuesRef.current,{layout:prevLayout,panelDataArray}=eagerValuesRef.current,panelConstraintsArray=panelDataArray.map((panelData=>panelData.constraints)),{panelSize,pivotIndices}=panelDataHelper(panelDataArray,panelData,prevLayout);assert(null!=panelSize,`Panel size not found for panel "${panelData.id}"`);const nextLayout=adjustLayoutByDelta({delta:findPanelDataIndex(panelDataArray,panelData)===panelDataArray.length-1?panelSize-unsafePanelSize:unsafePanelSize-panelSize,initialLayout:prevLayout,panelConstraints:panelConstraintsArray,pivotIndices,prevLayout,trigger:"imperative-api"});compareLayouts(prevLayout,nextLayout)||(setLayout(nextLayout),eagerValuesRef.current.layout=nextLayout,onLayout&&onLayout(nextLayout),callPanelCallbacks(panelDataArray,nextLayout,panelIdToLastNotifiedSizeMapRef.current))}),[]),reevaluatePanelConstraints=useCallback(((panelData,prevConstraints)=>{const{layout,panelDataArray}=eagerValuesRef.current,{collapsedSize:prevCollapsedSize=0,collapsible:prevCollapsible}=prevConstraints,{collapsedSize:nextCollapsedSize=0,collapsible:nextCollapsible,maxSize:nextMaxSize=100,minSize:nextMinSize=0}=panelData.constraints,{panelSize:prevPanelSize}=panelDataHelper(panelDataArray,panelData,layout);null!=prevPanelSize&&(prevCollapsible&&nextCollapsible&&fuzzyNumbersEqual$1(prevPanelSize,prevCollapsedSize)?fuzzyNumbersEqual$1(prevCollapsedSize,nextCollapsedSize)||resizePanel(panelData,nextCollapsedSize):prevPanelSize<nextMinSize?resizePanel(panelData,nextMinSize):prevPanelSize>nextMaxSize&&resizePanel(panelData,nextMaxSize))}),[resizePanel]),startDragging=useCallback(((dragHandleId,event)=>{const{direction}=committedValuesRef.current,{layout}=eagerValuesRef.current;if(!panelGroupElementRef.current)return;const handleElement=getResizeHandleElement(dragHandleId,panelGroupElementRef.current);assert(handleElement,`Drag handle element not found for id "${dragHandleId}"`);const initialCursorPosition=getResizeEventCursorPosition(direction,event);setDragState({dragHandleId,dragHandleRect:handleElement.getBoundingClientRect(),initialCursorPosition,initialLayout:layout})}),[]),stopDragging=useCallback((()=>{setDragState(null)}),[]),unregisterPanel=useCallback((panelData=>{const{panelDataArray}=eagerValuesRef.current,index=findPanelDataIndex(panelDataArray,panelData);index>=0&&(panelDataArray.splice(index,1),delete panelIdToLastNotifiedSizeMapRef.current[panelData.id],eagerValuesRef.current.panelDataArrayChanged=!0)}),[]),context=useMemo((()=>({collapsePanel,direction,dragState,expandPanel,getPanelSize,getPanelStyle,groupId,isPanelCollapsed,isPanelExpanded,reevaluatePanelConstraints,registerPanel,registerResizeHandle,resizePanel,startDragging,stopDragging,unregisterPanel,panelGroupElement:panelGroupElementRef.current})),[collapsePanel,dragState,direction,expandPanel,getPanelSize,getPanelStyle,groupId,isPanelCollapsed,isPanelExpanded,reevaluatePanelConstraints,registerPanel,registerResizeHandle,resizePanel,startDragging,stopDragging,unregisterPanel]),style={display:"flex",flexDirection:"horizontal"===direction?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return createElement(PanelGroupContext.Provider,{value:context},createElement(Type,{...rest,children,className:classNameFromProps,id:idFromProps,ref:panelGroupElementRef,style:{...style,...styleFromProps},"data-panel-group":"","data-panel-group-direction":direction,"data-panel-group-id":groupId}))}const PanelGroup=forwardRef(((props,ref)=>createElement(PanelGroupWithForwardedRef,{...props,forwardedRef:ref})));function findPanelDataIndex(panelDataArray,panelData){return panelDataArray.findIndex((prevPanelData=>prevPanelData===panelData||prevPanelData.id===panelData.id))}function panelDataHelper(panelDataArray,panelData,layout){const panelIndex=findPanelDataIndex(panelDataArray,panelData),pivotIndices=panelIndex===panelDataArray.length-1?[panelIndex-1,panelIndex]:[panelIndex,panelIndex+1],panelSize=layout[panelIndex];return{...panelData.constraints,panelSize,pivotIndices}}function PanelResizeHandle({children=null,className:classNameFromProps="",disabled=!1,hitAreaMargins,id:idFromProps,onDragging,style:styleFromProps={},tabIndex=0,tagName:Type="div",...rest}){var _hitAreaMargins$coars,_hitAreaMargins$fine;const elementRef=useRef(null),callbacksRef=useRef({onDragging});useEffect((()=>{callbacksRef.current.onDragging=onDragging}));const panelGroupContext=useContext(PanelGroupContext);if(null===panelGroupContext)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction,groupId,registerResizeHandle:registerResizeHandleWithParentGroup,startDragging,stopDragging,panelGroupElement}=panelGroupContext,resizeHandleId=useUniqueId(idFromProps),[state,setState]=useState("inactive"),[isFocused,setIsFocused]=useState(!1),[resizeHandler,setResizeHandler]=useState(null),committedValuesRef=useRef({state});useIsomorphicLayoutEffect((()=>{committedValuesRef.current.state=state})),useEffect((()=>{if(disabled)setResizeHandler(null);else{const resizeHandler=registerResizeHandleWithParentGroup(resizeHandleId);setResizeHandler((()=>resizeHandler))}}),[disabled,resizeHandleId,registerResizeHandleWithParentGroup]);const coarseHitAreaMargins=null!==(_hitAreaMargins$coars=null==hitAreaMargins?void 0:hitAreaMargins.coarse)&&void 0!==_hitAreaMargins$coars?_hitAreaMargins$coars:15,fineHitAreaMargins=null!==(_hitAreaMargins$fine=null==hitAreaMargins?void 0:hitAreaMargins.fine)&&void 0!==_hitAreaMargins$fine?_hitAreaMargins$fine:5;useEffect((()=>{if(disabled||null==resizeHandler)return;const element=elementRef.current;assert(element,"Element ref not attached");return function registerResizeHandle(resizeHandleId,element,direction,hitAreaMargins,setResizeHandlerState){var _ownerDocumentCounts$;const{ownerDocument}=element,data={direction,element,hitAreaMargins,setResizeHandlerState},count=null!==(_ownerDocumentCounts$=ownerDocumentCounts.get(ownerDocument))&&void 0!==_ownerDocumentCounts$?_ownerDocumentCounts$:0;return ownerDocumentCounts.set(ownerDocument,count+1),registeredResizeHandlers.add(data),updateListeners(),function unregisterResizeHandle(){var _ownerDocumentCounts$2;panelConstraintFlags.delete(resizeHandleId),registeredResizeHandlers.delete(data);const count=null!==(_ownerDocumentCounts$2=ownerDocumentCounts.get(ownerDocument))&&void 0!==_ownerDocumentCounts$2?_ownerDocumentCounts$2:1;ownerDocumentCounts.set(ownerDocument,count-1),updateListeners(),1===count&&ownerDocumentCounts.delete(ownerDocument)}}(resizeHandleId,element,direction,{coarse:coarseHitAreaMargins,fine:fineHitAreaMargins},((action,isActive,event)=>{if(isActive)switch(action){case"down":{setState("drag"),startDragging(resizeHandleId,event);const{onDragging}=callbacksRef.current;onDragging&&onDragging(!0);break}case"move":{const{state}=committedValuesRef.current;"drag"!==state&&setState("hover"),resizeHandler(event);break}case"up":{setState("hover"),stopDragging();const{onDragging}=callbacksRef.current;onDragging&&onDragging(!1);break}}else setState("inactive")}))}),[coarseHitAreaMargins,direction,disabled,fineHitAreaMargins,registerResizeHandleWithParentGroup,resizeHandleId,resizeHandler,startDragging,stopDragging]),function useWindowSplitterResizeHandlerBehavior({disabled,handleId,resizeHandler,panelGroupElement}){useEffect((()=>{if(disabled||null==resizeHandler||null==panelGroupElement)return;const handleElement=getResizeHandleElement(handleId,panelGroupElement);if(null==handleElement)return;const onKeyDown=event=>{if(!event.defaultPrevented)switch(event.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":event.preventDefault(),resizeHandler(event);break;case"F6":{event.preventDefault();const groupId=handleElement.getAttribute("data-panel-group-id");assert(groupId,`No group element found for id "${groupId}"`);const handles=getResizeHandleElementsForGroup(groupId,panelGroupElement),index=getResizeHandleElementIndex(groupId,handleId,panelGroupElement);assert(null!==index,`No resize element found for id "${handleId}"`),handles[event.shiftKey?index>0?index-1:handles.length-1:index+1<handles.length?index+1:0].focus();break}}};return handleElement.addEventListener("keydown",onKeyDown),()=>{handleElement.removeEventListener("keydown",onKeyDown)}}),[panelGroupElement,disabled,handleId,resizeHandler])}({disabled,handleId:resizeHandleId,resizeHandler,panelGroupElement});return createElement(Type,{...rest,children,className:classNameFromProps,id:idFromProps,onBlur:()=>setIsFocused(!1),onFocus:()=>setIsFocused(!0),ref:elementRef,role:"separator",style:{touchAction:"none",userSelect:"none",...styleFromProps},tabIndex,"data-panel-group-direction":direction,"data-panel-group-id":groupId,"data-resize-handle":"","data-resize-handle-active":"drag"===state?"pointer":isFocused?"keyboard":void 0,"data-resize-handle-state":state,"data-panel-resize-handle-enabled":!disabled,"data-panel-resize-handle-id":resizeHandleId})}PanelGroupWithForwardedRef.displayName="PanelGroup",PanelGroup.displayName="forwardRef(PanelGroup)",PanelResizeHandle.displayName="PanelResizeHandle"}}]);